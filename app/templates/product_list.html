{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'style.css' %}">
<div class="container">
  <h1 class="titulo-principal">Productos</h1>
  <div class="card-container">
    {% for product in productos %}
    <div class="card-trabajo">
      <img class="card-trabajo-img" src="{{ product.image.url }}" alt="{{ product.name }}">
      <h2 class="card-trabajo-title">{{ product.name }}</h2>
      <p class="card-trabajo-desc" id="desc-prod{{ forloop.counter }}">
        {{ product.description }}
      </p>
      <span class="ver-mas" onclick="toggleDesc('desc-prod{{ forloop.counter }}', this)">Ver más</span>
    </div>
    {% endfor %}
  </div>
</div>
<script>
  function toggleDesc(id, el) {
    const p = document.getElementById(id);
    if (!p) return;
    const expanded = p.classList.toggle('expanded');
    el.innerText = expanded ? 'Ver menos' : 'Ver más';
  }
</script>
{% endblock %}
